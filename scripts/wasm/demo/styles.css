:root {
  --ink: #132734;
  --ink-soft: #31505f;
  --paper: #fffef8;
  --paper-accent: #f9f4e9;
  --line: #c8d8da;
  --brand: #0e6e80;
  --brand-strong: #074c59;
  --highlight: #d47d2f;
  --danger: #a52b2b;
  --ok: #2f7f38;
  --shadow: 0 22px 42px -32px rgba(17, 55, 64, 0.55);
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
  color: var(--ink);
  background:
    radial-gradient(circle at 12% 0%, #f7efe2 0%, rgba(247, 239, 226, 0) 42%),
    radial-gradient(circle at 88% 0%, #e3f1f4 0%, rgba(227, 241, 244, 0) 45%),
    linear-gradient(180deg, #f8fbfc 0%, #fffaf0 100%);
  font-family: "IBM Plex Sans", "Source Sans 3", "Trebuchet MS", sans-serif;
}

.atmo {
  position: fixed;
  border-radius: 999px;
  filter: blur(40px);
  opacity: 0.55;
  pointer-events: none;
  z-index: 0;
}

.atmo-a {
  width: min(44vw, 620px);
  height: min(36vw, 520px);
  background: linear-gradient(120deg, rgba(212, 125, 47, 0.22), rgba(14, 110, 128, 0.14));
  top: -100px;
  left: -120px;
}

.atmo-b {
  width: min(36vw, 540px);
  height: min(34vw, 480px);
  background: linear-gradient(120deg, rgba(14, 110, 128, 0.25), rgba(34, 147, 116, 0.14));
  bottom: -130px;
  right: -80px;
}

.app-shell {
  position: relative;
  z-index: 1;
  width: min(1280px, calc(100% - 2.2rem));
  margin: 1.6rem auto 2rem;
  display: grid;
  gap: 1rem;
}

.hero {
  background: linear-gradient(145deg, rgba(255, 255, 252, 0.95), rgba(247, 243, 232, 0.9));
  border: 1px solid rgba(14, 110, 128, 0.2);
  border-radius: 16px;
  padding: 1.2rem 1.3rem;
  box-shadow: var(--shadow);
}

.kicker {
  margin: 0;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 700;
  font-size: 0.78rem;
  color: var(--brand-strong);
}

h1,
h2,
h3 {
  margin: 0;
  font-family: "Bitter", "Bookman Old Style", "URW Bookman", serif;
  color: #102732;
}

h1 {
  margin-top: 0.35rem;
  font-size: clamp(1.45rem, 2.6vw, 2.1rem);
}

h2 {
  font-size: 1.2rem;
  margin-bottom: 0.7rem;
}

h3 {
  font-size: 1.05rem;
}

p {
  margin: 0.45rem 0 0;
  color: var(--ink-soft);
}

.hint {
  margin-top: 0.68rem;
  font-size: 0.92rem;
  color: #496574;
}

.session-info {
  margin-top: 0.55rem;
  font-size: 0.92rem;
  color: #2d5f4f;
}

.panel {
  background: linear-gradient(155deg, rgba(255, 255, 255, 0.95), rgba(246, 250, 251, 0.92));
  border: 1px solid rgba(14, 110, 128, 0.18);
  border-radius: 14px;
  padding: 1rem;
  box-shadow: var(--shadow);
}

.split {
  display: grid;
  grid-template-columns: 1.08fr 1fr;
  gap: 1rem;
}

.field-grid {
  display: grid;
  gap: 0.7rem;
}

.field-grid.two {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

label {
  display: grid;
  gap: 0.32rem;
  font-size: 0.84rem;
  color: #294855;
  font-weight: 600;
}

input,
textarea,
pre,
button {
  font-family: "JetBrains Mono", "Fira Mono", "Consolas", monospace;
}

input,
textarea {
  width: 100%;
  border: 1px solid var(--line);
  background: rgba(255, 255, 255, 0.95);
  color: #173845;
  border-radius: 10px;
  padding: 0.6rem 0.68rem;
  font-size: 0.9rem;
  transition: border-color 120ms ease, box-shadow 120ms ease;
}

input:focus,
textarea:focus {
  outline: none;
  border-color: rgba(14, 110, 128, 0.85);
  box-shadow: 0 0 0 3px rgba(14, 110, 128, 0.16);
}

textarea {
  resize: vertical;
  min-height: 180px;
}

.row {
  margin-top: 0.72rem;
  display: flex;
  align-items: center;
  gap: 0.55rem;
}

.row.wrap {
  flex-wrap: wrap;
}

button {
  border: none;
  border-radius: 999px;
  padding: 0.54rem 0.9rem;
  font-size: 0.84rem;
  font-weight: 700;
  letter-spacing: 0.01em;
  background: linear-gradient(145deg, var(--brand), var(--brand-strong));
  color: #f7fcfd;
  cursor: pointer;
  transition: transform 120ms ease, filter 120ms ease, opacity 120ms ease;
}

button:hover {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

button:active {
  transform: translateY(0);
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.58;
  transform: none;
}

.toggle-label {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  font-size: 0.86rem;
  padding: 0.28rem 0.6rem;
  border-radius: 999px;
  background: rgba(14, 110, 128, 0.1);
}

.toggle-label input {
  width: auto;
  margin: 0;
  accent-color: var(--brand);
}

.chip-row {
  margin-top: 0.65rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.44rem;
}

.chip {
  background: linear-gradient(145deg, #f2ece0, #efe8d8);
  color: #2d474f;
  border: 1px solid rgba(14, 110, 128, 0.18);
}

.chip:hover {
  filter: brightness(1.02);
}

.file-tree {
  margin: 0.72rem 0 0;
  border-radius: 10px;
  border: 1px solid rgba(20, 69, 81, 0.18);
  background: rgba(255, 255, 255, 0.82);
  padding: 0.62rem;
  min-height: 150px;
  max-height: 280px;
  overflow: auto;
  font-size: 0.82rem;
  line-height: 1.36;
}

.console {
  margin-top: 0.2rem;
  border: 1px solid rgba(18, 71, 81, 0.22);
  border-radius: 10px;
  min-height: 260px;
  max-height: 420px;
  overflow: auto;
  padding: 0.58rem;
  background:
    linear-gradient(180deg, rgba(10, 31, 41, 0.92), rgba(12, 37, 49, 0.96));
  color: #d6edf4;
  font-size: 0.82rem;
  line-height: 1.4;
}

.console-line {
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
}

.line-cmd {
  color: #b7f4ff;
}

.line-status {
  color: #ffd190;
}

.line-stdout {
  color: #b6eef7;
}

.line-stderr {
  color: #ffb2ad;
}

.line-error {
  color: #ff8f8f;
}

.line-ok {
  color: #95f2a4;
}

.line-note {
  color: #b6d6e0;
}

.pinentry-dialog {
  border: 1px solid rgba(14, 110, 128, 0.24);
  border-radius: 14px;
  padding: 0;
  box-shadow: 0 32px 66px -34px rgba(5, 25, 34, 0.7);
}

.pinentry-dialog::backdrop {
  background: rgba(0, 26, 34, 0.45);
  backdrop-filter: blur(2px);
}

#pinentryForm {
  width: min(480px, 92vw);
  display: grid;
  gap: 0.68rem;
  padding: 1rem;
  background: linear-gradient(160deg, #fffef9, #f3fbfd);
}

.reveal {
  animation: reveal-up 420ms cubic-bezier(0.2, 0.6, 0.2, 1) both;
  animation-delay: var(--delay, 0s);
}

@keyframes reveal-up {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@media (max-width: 1020px) {
  .split {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 760px) {
  .app-shell {
    width: calc(100% - 1.1rem);
    margin: 0.9rem auto 1.1rem;
  }

  .field-grid.two {
    grid-template-columns: 1fr;
  }

  .row {
    flex-wrap: wrap;
  }

  button {
    width: 100%;
    justify-content: center;
  }

  .chip {
    width: auto;
  }
}
